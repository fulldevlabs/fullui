---
import type { ComponentProps, Polymorphic } from 'astro/types'
import '../../../css/utils.scss'
import Component from '../../_Component.astro'
import Label from '../../typography/Label.astro'
import CheckboxElement from './CheckboxElement.astro'

type Props<As extends 'div'> = Polymorphic<{ as: As }> & {
  label?: string
} & Pick<
    ComponentProps<typeof CheckboxElement>,
    'name' | 'disabled' | 'required' | 'checked'
  > & {
    color?: 'base' | 'brand'
    contrast?: boolean
  }

const {
  as = 'div',
  label,
  contrast,
  icon,
  name,
  variant,
  placeholder,
  type,
  value,
  disabled,
  checked,
  required,
  ...rest
} = Astro.props
---

<Component
  structure="row"
  class:list={['checkbox']}
  {as}
  {...rest}
>
  <CheckboxElement
    {name}
    {disabled}
    {required}
    {checked}
  />
  <Label
    for={name}
    text={label}
    {contrast}
  />
</Component>

<!-- <style is:global lang="scss">
  @
  @include component('checkbox') {
    display: flex;
    position: relative;
    gap: var(--space-2);
    width: 100%;
  }
</style> -->
