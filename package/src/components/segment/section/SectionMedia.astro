---
import type { HTMLTag, Polymorphic } from 'astro/types'
import Component from '../../_Component.astro'

type Props<As extends HTMLTag = 'div'> = Polymorphic<{ as: As }> & {
  position?: 'cover' | 'inset' | 'background'
}

const { as = 'div', ...rest } = Astro.props
---

<Component
  class:list={['section-media']}
  {as}
  {...rest}
>
  <slot />
</Component>

<style is:global lang="scss">
  @import '../../../css/utils.scss';

  @include component('section-media') {
    width: 100%;
    height: 100%;

    // &.position-cover {
    //   width: 100%;
    //   height: 100%;
    //   object-fit: cover;
    // }

    // &.position-background {
    //   position: absolute;
    //   top: 0;
    //   right: 0;
    //   bottom: 0;
    //   left: 0;
    //   order: 1;
    //   z-index: -1;
    //   margin: 0 !important;
    //   border-radius: 0;
    //   width: 100%;
    //   height: 100%;
    //   max-height: 100%;
    //   object-fit: cover;
    // }

    // &.position-inset {
    //   &:is(.structure-stack > &) {
    //     margin-right: calc(var(--inner-x) * -1);
    //     margin-left: calc(var(--inner-x) * -1);
    //     width: calc(100% + var(--inner-x) * 2);

    //     &:first-child {
    //       margin-top: calc(var(--inner-y) * -1);
    //       height: calc(100% + var(--inner-y) * 1);
    //     }

    //     &:last-child {
    //       margin-bottom: calc(var(--inner-y) * -1);
    //       height: calc(100% + var(--inner-y) * 1);
    //     }
    //   }

    //   &:is(.structure-split > &) {
    //     @media (max-width: 1023.999px) {
    //       margin-right: calc(var(--inner-x) * -1);
    //       margin-left: calc(var(--inner-x) * -1);
    //       width: calc(100% + var(--inner-x) * 2);

    //       &:first-child {
    //         margin-top: calc(var(--inner-y) * -1);
    //         height: calc(100% + var(--inner-y) * 1);
    //       }

    //       &:last-child {
    //         margin-bottom: calc(var(--inner-y) * -1);
    //         height: calc(100% + var(--inner-y) * 1);
    //       }
    //     }

    //     @media (min-width: 1024px) {
    //       margin-top: calc(var(--inner-y) * -1);
    //       margin-bottom: calc(var(--inner-y) * -1);
    //       height: calc(100% + var(--inner-y) * 2);

    //       &:first-child {
    //         margin-left: calc(var(--inner-x) * -1);
    //         width: calc(100% + var(--inner-x) * 1);
    //       }

    //       &:last-child {
    //         margin-right: calc(var(--inner-x) * -1);
    //         width: calc(100% + var(--inner-x) * 1);
    //       }
    //     }
    //   }
    // }
  }
</style>
